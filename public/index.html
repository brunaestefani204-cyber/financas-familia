<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Finan√ßas da Fam√≠lia</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial;background:#f2f4f7;margin:0;color:#333}
header{background:#1f2937;color:#fff;padding:16px;text-align:center}
nav{display:flex;background:#111827}
nav button{flex:1;padding:14px;background:none;border:none;color:#9ca3af;cursor:pointer}
nav button.active{color:#fff;border-bottom:3px solid #22c55e}
main{padding:16px;max-width:900px;margin:auto}
section{display:none}
section.active{display:block}
.box{background:#fff;border-radius:12px;padding:16px;margin-bottom:16px;box-shadow:0 2px 6px rgba(0,0,0,.08)}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:12px}
.card{background:#fff;border-radius:12px;padding:16px;box-shadow:0 2px 6px rgba(0,0,0,.08)}
input,select,button{width:100%;padding:10px;margin-top:6px;margin-bottom:10px;border-radius:8px;border:1px solid #d1d5db}
button{background:#22c55e;color:#fff;font-weight:bold;border:none}
.list{font-size:14px}
</style>
</head>

<body>

<header>
<h1>Finan√ßas da Fam√≠lia</h1>
<p>Controle financeiro mensal</p>
</header>

<nav>
<button class="active" onclick="mostrarAba('painel',this)">Painel</button>
<button onclick="mostrarAba('transacoes',this)">Transa√ß√µes</button>
<button onclick="mostrarAba('metas',this)">Metas</button>
<button onclick="mostrarAba('categorias',this)">Categorias</button>
</nav>

<main>

<section id="painel" class="active">
<div class="cards">
<div class="card"><h4>Saldo</h4><strong id="saldo">R$ 0,00</strong></div>
<div class="card"><h4>Receitas</h4><strong id="totalReceitas">R$ 0,00</strong></div>
<div class="card"><h4>Despesas</h4><strong id="totalDespesas">R$ 0,00</strong></div>
</div>
</section>

<section id="transacoes">
<div class="box">
<h3>üí≥ Nova Transa√ß√£o</h3>

<select id="tipo">
<option value="receita">Receita</option>
<option value="despesa">Despesa</option>
</select>

<input id="valor" type="number" placeholder="Valor">

<select id="integrante"></select>
<select id="categoria"></select>

<button onclick="adicionarTransacao()">Adicionar</button>
</div>

<div class="box">
<h3>üìã Lan√ßamentos</h3>
<ul id="listaTransacoes" class="list"></ul>
</div>
</section>

<section id="metas">
<div class="box">
<p>Metas ser√£o configuradas aqui.</p>
</div>
</section>

<section id="categorias">

<div class="box">
<h3>üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Integrantes</h3>
<input id="novoIntegrante" placeholder="Nome">
<button onclick="addIntegrante()">Adicionar</button>
<ul id="listaIntegrantes"></ul>
</div>

<div class="box">
<h3>üè∑ Categorias</h3>
<input id="novaCategoria" placeholder="Categoria">
<select id="tipoCategoria">
<option>Adultos</option>
<option>Crian√ßas</option>
<option>Fam√≠lia</option>
</select>
<button onclick="addCategoria()">Adicionar</button>
<ul id="listaCategorias"></ul>
</div>

</section>

</main>

<script>
let integrantes=JSON.parse(localStorage.getItem("integrantes"))||["Adulto 1","Adulto 2","Crian√ßas"]
let categorias=JSON.parse(localStorage.getItem("categorias"))||[{nome:"Alimenta√ß√£o"},{nome:"Moradia"},{nome:"Transporte"},{nome:"Escola"}]
let transacoes=JSON.parse(localStorage.getItem("transacoes"))||[]

function mostrarAba(id,btn){
document.querySelectorAll("section").forEach(s=>s.classList.remove("active"))
document.getElementById(id).classList.add("active")
document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"))
btn.classList.add("active")
}

function salvar(){
localStorage.setItem("integrantes",JSON.stringify(integrantes))
localStorage.setItem("categorias",JSON.stringify(categorias))
localStorage.setItem("transacoes",JSON.stringify(transacoes))
}

function renderSelects(){
document.getElementById("integrante").innerHTML=integrantes.map(i=>`<option>${i}</option>`).join("")
document.getElementById("categoria").innerHTML= categorias.map(c=>`<option>${c.nome||c}</option>`).join("")
}

function renderCategorias(){
listaCategorias.innerHTML=categorias.map(c=>`<li>${c.nome||c}</li>`).join("")
listaIntegrantes.innerHTML=integrantes.map(i=>`<li>${i}</li>`).join("")
renderSelects()
}

function addIntegrante(){
let n=novoIntegrante.value.trim()
if(!n)return
integrantes.push(n)
novoIntegrante.value=""
salvar();renderCategorias()
}

function addCategoria(){
let n=novaCategoria.value.trim()
if(!n)return
categorias.push({nome:n})
novaCategoria.value=""
salvar();renderCategorias()
}

function adicionarTransacao(){
let tipo=document.getElementById("tipo").value
let valor=Number(document.getElementById("valor").value)
if(!valor)return alert("Informe valor")
transacoes.push({
tipo,valor,
integrante:integrante.value,
categoria:categoria.value
})
valor.value=""
salvar();renderTransacoes();atualizarPainel()
}

function renderTransacoes(){
listaTransacoes.innerHTML=""
transacoes.forEach(t=>{
listaTransacoes.innerHTML+=`<li>${t.tipo.toUpperCase()} ‚Ä¢ ${t.integrante} ‚Ä¢ ${t.categoria} ‚Ä¢ R$ ${t.valor}</li>`
})
}

function atualizarPainel(){
let r=transacoes.filter(t=>t.tipo=="receita").reduce((a,b)=>a+b.valor,0)
let d=transacoes.filter(t=>t.tipo=="despesa").reduce((a,b)=>a+b.valor,0)
totalReceitas.innerText=r.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})
totalDespesas.innerText=d.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})
saldo.innerText=(r-d).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})
}

renderCategorias()
renderTransacoes()
atualizarPainel()
</script>

</body>
</html>
